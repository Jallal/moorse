{"ast":null,"code":"import * as React from 'react';\n/** @hidden */\nexport var useAnimation = function useAnimation(config, deps) {\n  var offset = React.useRef(0);\n  var mount = React.useRef(false);\n  var animationFrame = React.useRef();\n  var animate = function animate(transition) {\n    var duration = transition.duration;\n    var start;\n    var progress;\n    var skip = offset.current && 1 - offset.current;\n    if (transition.onStart) {\n      transition.onStart();\n    }\n    var frame = function frame(timestamp) {\n      if (!start) {\n        start = timestamp;\n      }\n      progress = timestamp - start + 1;\n      var rate = progress / duration + skip;\n      if (rate <= 1) {\n        if (transition.onUpdate) {\n          transition.onUpdate(rate);\n        }\n        animationFrame.current = window.requestAnimationFrame(frame);\n        offset.current = rate;\n      } else {\n        if (transition.onEnd) {\n          transition.onEnd(1);\n        }\n        offset.current = 0;\n      }\n    };\n    animationFrame.current = window.requestAnimationFrame(frame);\n  };\n  React.useEffect(function () {\n    animate(config);\n    return function () {\n      if (animationFrame.current) {\n        window.cancelAnimationFrame(animationFrame.current);\n      }\n    };\n  }, deps);\n  React.useEffect(function () {\n    mount.current = true;\n  }, []);\n};","map":null,"metadata":{},"sourceType":"module"}